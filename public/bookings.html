<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Property Booking</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
  <div class="container mt-4">
    <h1>Let's Book the Property</h1>
    
    <form id="bookingForm" class="needs-validation" novalidate>
      <h3>Booking Details</h3>
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="start_date">Check-In</label>
          <input type="date" class="form-control" id="start_date" placeholder="Enter check-in date (dd/mm/yyyy)" required>
          <div class="invalid-feedback">Please enter a check-in date.</div>
        </div>
        <div class="form-group col-md-6">
          <label for="end_date">Check-Out</label>
          <input type="date" class="form-control" id="end_date" placeholder="Enter check-out date (dd/mm/yyyy)" required>
          <div class="invalid-feedback">Please enter a check-out date.</div>
        </div>
      </div>

      <h3>Your Details</h3>
      <div class="form-group">
        <label for="client_name">Your Name</label>
        <input type="text" class="form-control" id="client_name" placeholder="Please your name (mandatory)" required>
        <div class="invalid-feedback">Please enter your name.</div>
      </div>
      
      <div class="form-group">
        <label for="email">Email Address</label>
        <input type="email" class="form-control" id="email" placeholder="Please your email address (mandatory)" required>
        <div class="invalid-feedback">Please enter a valid email address.</div>
      </div>
      
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="daytime_phone">Daytime Phone No.</label>
          <input type="tel" class="form-control" id="daytime_phone" placeholder="Please your daytime phone no.">
        </div>
        <div class="form-group col-md-6">
          <label for="mobile_phone">Your Mobile No.</label>
          <input type="tel" class="form-control" id="mobile_phone" placeholder="Please your mobile no:(04xxxx xxx xxx) (mandatory)" required>
          <div class="invalid-feedback">Please enter your mobile number.</div>
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="postal_address">Postal Address</label>
          <textarea class="form-control" id="postal_address" rows="3" placeholder="Please provide your postal address."></textarea>
        </div>
        <div class="form-group col-md-6">
          <label for="home_address">Residential Address</label>
          <textarea class="form-control" id="home_address" rows="3" placeholder="Please provide your residential address. (cannot be a post box address)"></textarea>
        </div>
      </div>

      <!-- hidden field to carry the listing_id -->
      <input type="hidden" id="listing_id">

      <button type="submit" class="btn btn-primary">Book Now</button>
    </form>
  </div>

    <script>
    // Set minimum date to today for both date fields
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('start_date').setAttribute('min', today);
    document.getElementById('end_date').setAttribute('min', today);
    
    // Update checkout min date when checkin changes
    document.getElementById('start_date').addEventListener('change', function() {
      const checkInDate = this.value;
      document.getElementById('end_date').setAttribute('min', checkInDate);
    });
  </script>

  <script src="bookings.js"></script>
</body>
</html>